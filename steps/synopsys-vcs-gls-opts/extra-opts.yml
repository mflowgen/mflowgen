#=========================================================================
# gls-opts.yml
#=========================================================================
# Author : Christopher Torng
# Date   : January 20, 2025

# Performance options for GLS simulation

- -hsopt=gates

# Initialize uninitialized registers
#
# This can be set to random, ones, or zeroes (only for registers, not
# memories). Note that this option masks X's on initialization and
# provides just one specific initial condition, which may no longer be
# reflective of what will happen in real hardware. While it is okay to use
# this option to debug, it is safer to have it off before tapeout.

#- +vcs+initreg+random

# Enable SDF annotation
#
# The -sdf option needs to know the path to the design under test as a dot
# path (e.g., "top.dut") that will be sdf annotated. This is left as a
# parameter that must be available when this option is parsed at build
# time. Right now it is just a string.

- +neg_tchk -negdelay
- +overlap +pathpulse
- +sdfverbose

# IMPORTANT -- Please SDF annotate in testbench
#
# Although it is possible to do SDF annotation with the -sdf option on the
# command line, it is better practice to use $sdf_annotate directly in
# your testbench for better control over which module you are annotating.
#
# Please do it similar to this:
#
#     `ifdef VCS_GLS_SDF
#     initial begin
#       $sdf_annotate( "inputs/design.sdf", top.dut, , "sdfannotate.log" );
#     end
#     `endif
#

#- -sdf max:top.dut:inputs/design.sdf
- +define+VCS_GLS_SDF

# Suppress or limit some lint and warnings

# Up-hierarchy Interconnect Delay

- +warn=SDFCOM_UHICD:5

# Cannot find timing check (sdf asks for a check not present in stdcells v)

- +warn=SDFCOM_CFTC:5

# Duplicate Timing Check is disabled

- +warn=DDTC:5

# SDFCOM_RCI -- RETAIN clause ignored
#
# The -sdfretain option causes VCS build to fail with an error but with no
# error message, so we disable it. The retain feature seems rare in
# general to be properly supported by SDF annotation tools.

- +warn=SDFCOM_RCI:5

